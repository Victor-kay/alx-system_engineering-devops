#!/usr/bin/env bash
# Configures an Ubuntu server as follows:
#   - localhost resolves to 127.0.0.2
#   - facebook.com resolves to 8.8.8.8

# Copy the current hosts file to a new file
sudo cp /etc/hosts /etc/hosts.bak

# Create a new hosts file with custom DNS settings
echo "127.0.0.2       localhost" | sudo tee /etc/hosts.new > /dev/null
echo "8.8.8.8         facebook.com" | sudo tee -a /etc/hosts.new > /dev/null

# Replace the old hosts file with the new one
sudo mv /etc/hosts.new /etc/hosts

# Clean up the backup file (optional)
# sudo rm /etc/hosts.bak

echo "DNS configuration updated successfully."
